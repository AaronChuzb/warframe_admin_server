<!--
 * @Date: 2021-08-21 15:56:51
 * @LastEditors: AaronChu
 * @LastEditTime: 2021-09-27 14:40:04
-->

# 战甲秘典后台及服务端

[![standard-readme compliant](https://img.shields.io/badge/readme%20style-standard-brightgreen.svg?style=flat-square)](https://github.com/RichardLitt/standard-readme)

关于

整个项目包括后端开发完全是为爱发电，忙的最近电波都没有打完，一个人开发整个项目就当是锻炼写代码的速度和能力吧，我也知道上班摸鱼是挺不对的，一想到几十个核桃的数据还等着录就头疼。未来还将添加武器和战甲模块，感觉那些才是大头，毕竟涉及的数据多了不是一星半点，强烈要求有兴趣的小伙伴加入。

本项目采用的技术方案及我的哔哔：

1. 后台技术[ElementUI](https://element.eleme.cn/#/zh-CN)+[Vue2](https://vuejs.org/)，比较保守但是也是文档比较全名。其实就是[Vue-element-admin](https://panjiachen.gitee.io/vue-element-admin-site/zh/)的整套的解决方案，在该项目的基础上魔改了权限控制，路由等，并升级到当前最新的elementui、VueRouter最新版本，整体框架变化不到，70kstar的项目真的有许多地方值得我们学习。
2. 虽然采用的是大佬的方案，但是也有许多地方不是令我十分满意，我的后台要求比较特殊，我不想已角色的形式去给用户分配权限，那样真的不够灵活，并且粒度不是很大，虽然目前后台内容不是很多但是后期会追加许多的内容，例如战甲武器等部分，涉及到数据的删除与内容安全，所以对权限要求更加严格，所以目前我采用的是分页面的权限，在创建或者修改的时候会根据动态路由生成权限表去勾选，后期也可以修改。
3. 服务端就比较新了，采用的是nodejs+Mongodb的方案，数据库直接部署在服务器上，别问为什么，应为Mongodb商业化的数据库太贵了，随便去几个服务商看了下都是四位数起，为爱发电也发不起来。
4. 服务端说难也不难主要都是一些curd操作，说简单也不简单，主要mongoose的聚合查询实在是又不美观又繁琐，不想再这方面浪费时间所以我尽量都是保守操作采用最简单快速的方式编写的接口，并且采用模块的方式，虽然一些代码是重复了但是胜在维护方便，直接找对应的文件就能找到页面的接口了，为了维护性适当性的提高下代码量也是不错的选择。别说什么通用curd了，真的挺鸡肋的，我都放弃那种方案了，可维护性可拓展性基本为0，写完你就忘了该去哪找上一步的操作了。


## 内容列表

- [背景](#背景)
- [安装](#安装)
  - [环境变量配置](#环境变量配置)
- [项目结构](#项目结构)
- [相关仓库](#相关仓库)
- [维护者](#维护者)
- [如何贡献](#如何贡献)
- [使用许可](#使用许可)

## 背景

`初衷：` 我也是🐹这不用多说了，起初家里不太好的时候访问wiki有点费劲，加上wiki只有部分内容是国服的，而且遗物上有许多的差异，许多时候使用起来并不方便，所以这是我开这个项目的初衷。目前为爱发电，可能后期访问量上去了会接那么一点点广告，收入当然是供给服务器和oss啦。


写这个项目也是存在一点的困难的，难在本仓鼠是一个纯前端，对接口编写基本不怎么精通，幸好全栈开发有一套解决方案我特别中意，对之前没接触过后端开发的朋友是特别友好的。

当然说了这么多还是在这里列出一些尚待解决的问题：


1. 多端共用一套登录逻辑，接入同一个接口。
2. ~~个人用户项目涉及的一些微信小程序QQ小程序上架问题。（已解决,因为微信小程序审核已经过了）~~
3. **来人帮忙添加数据啊，后台的权限做好了**。


## 安装

这个项目使用 [node](http://nodejs.org) 和 [npm](https://npmjs.com)。请确保你本地安装了它们。  
**拉下来的代码请不要直接无脑```npm install```**  
**看清楚是两个项目！两个项目！两个项目！**  
- admin是中台
- server是服务端  

分别进入两个目录进行以下操作，网不好的请自己解决。（十分不建议用cnpm，因为服务端的express版本太新）

```sh
$ npm install
```

### 环境变量配置

已经做好本地开发环境和打包线上环境的区分了，不需要去改变请求的地址了，如果你想自用请换成你自己域名。


## 项目结构

比较复杂懒得写，客户端请参考Vue-element-admin项目的项目结构，虽然有差别，但是总体结构是大致相似的。服务端就是比较通用的模块化的express项目结构了，分离了中间件、模型、路由、数据库连接等模块，方便维护。



## 相关仓库

- [warframe](https://github.com/AaronChuzb/warframe) — 本项目的客户端

## 维护者

[@AaronChuzb](https://github.com/AaronChuzb)。

## 如何贡献

非常欢迎你的加入！[提一个 Issue](https://github.com/AaronChuzb/warframe/issues/new) 或者联系作者邮箱aaronchu_cn@163.com。


标准 Readme 遵循 [Contributor Covenant](http://contributor-covenant.org/version/1/3/0/) 行为规范。


## 使用许可

[MPL-2.0 License](LICENSE) © Aaron Chu
